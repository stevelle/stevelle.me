<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Reproducing OpenStack Grenade gate job results | stevelle.me</title>
<link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://stevelle.me/posts/reproducing-grenade-results/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="@stevelle">
<link rel="prev" href="../learning-as-performance-1/" title="Learning As Performance, part 1" type="text/html">
<meta property="og:site_name" content="stevelle.me">
<meta property="og:title" content="Reproducing OpenStack Grenade gate job results">
<meta property="og:url" content="https://stevelle.me/posts/reproducing-grenade-results/">
<meta property="og:description" content="This is just a really quick post to capture something learned.
Imagine your CI job fails. Imagine you can't tell why easily because
there are so many moving parts in the CI. Imagine you are asked to
f">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-03-15T16:21:22-07:00">
<meta property="article:tag" content="grenade">
<meta property="article:tag" content="openstack">
<meta property="article:tag" content="zuul">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<div class="navbar navbar-static-top" id="navbar">
    <div class="navbar-inner">
        <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

            <a class="brand" href="https://stevelle.me/">

                <span id="blog-title">stevelle.me</span>
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav">
<li>
<a href="../../pages/about">About</a>
                </li>
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>

                    
                </li>
</ul>
<ul class="nav pull-right">
<li>    </li>
<li>
    <a href="index.rst" id="sourcelink">Source</a>
    </li>

                
                </ul>
</div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="content" role="main">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Reproducing OpenStack Grenade gate job results</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    @stevelle
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2017-03-15T16:21:22-07:00" itemprop="datePublished" title="2017-03-15 16:21">2017-03-15 16:21</time></a></p>
                    <p class="sourceline"><a href="index.rst" id="sourcelink">Source</a></p>

        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>This is just a really quick post to capture something learned.</p>
<p>Imagine your CI job fails. Imagine you can't tell why easily because
there are so many moving parts in the CI. Imagine you are asked to
fix the broken build.</p>
<img alt="/images/tbss.gif" src="../../images/tbss.gif"><p>This post is about how I got past that.</p>
<p>Step 1: Set the stage</p>
<ul class="simple">
<li>Provision a new VM which could run a gate job.</li>
<li>Prepare it with any personal customizations and tailor to your tool preferences appropriate to a disposable working environment.</li>
</ul>
<p>Step 2: Prepare the host to emulate the gate</p>
<p>In the VM</p>
<pre class="code text"><a name="rest_code_2355a1794b224383a961726e812bd8d8-1"></a>cd /opt # or somewhere you want to put stuff
<a name="rest_code_2355a1794b224383a961726e812bd8d8-2"></a>git clone https://github.com/JohnVillalovos/devstack-gate-test.git
<a name="rest_code_2355a1794b224383a961726e812bd8d8-3"></a>cd devstack-gate-test
<a name="rest_code_2355a1794b224383a961726e812bd8d8-4"></a>./vm-setup.sh
<a name="rest_code_2355a1794b224383a961726e812bd8d8-5"></a>su - jenkins
</pre>
<p>Step 2.5: [optional]</p>
<ul class="simple">
<li>Snapshot the instance here for convenience</li>
</ul>
<p>Step 3: Execute the reproduction event</p>
<p>In a browser</p>
<ul class="simple">
<li>click the link of the correct gate job from the review you want to reproduce</li>
<li>find the <tt class="docutils literal">reproduce.sh</tt> script in the <tt class="docutils literal">logs</tt> directory</li>
<li>
<tt class="docutils literal">copy link location</tt> for this script</li>
</ul>
<p>In the VM</p>
<pre class="code text"><a name="rest_code_3007c092dd974f85ac9d775bc3751a61-1"></a>cd ..
<a name="rest_code_3007c092dd974f85ac9d775bc3751a61-2"></a>wget [paste-url]
<a name="rest_code_3007c092dd974f85ac9d775bc3751a61-3"></a>chmod u+x reproduce.sh
<a name="rest_code_3007c092dd974f85ac9d775bc3751a61-4"></a>./reproduce.sh
</pre>
<p>Now just kick back and watch the cargage!</p>
<img alt="/images/trainwreck.gif" src="../../images/trainwreck.gif">
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/grenade/" rel="tag">grenade</a></li>
            <li><a class="tag p-category" href="../../categories/openstack/" rel="tag">openstack</a></li>
            <li><a class="tag p-category" href="../../categories/zuul/" rel="tag">zuul</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../learning-as-performance-1/" rel="prev" title="Learning As Performance, part 1">Previous post</a>
            </li>
        </ul></nav></aside></article>
</div>
    </div>
    <!--End of body content-->
</div>
<div class="footerbox">
    
    
</div>
            <script src="../../assets/js/jquery.min.js"></script><script src="../../assets/js/bootstrap.min.js"></script><script src="../../assets/js/moment-with-locales.min.js"></script><script src="../../assets/js/fancydates.js"></script><script src="../../assets/js/jquery.colorbox-min.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
